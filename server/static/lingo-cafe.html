<html>
  <head>
    <meta charset="utf-8">
    <link rel="icon" href="./assets/vr-icon.png">
    <title>Ling ðŸŒŽ Cafe</title>
    <meta name="description" content="Lingo Cafe">

    <script src=https://wzrd.in/standalone/uuid@3></script>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
    <script src="/easyrtc/easyrtc.js"></script>
    <script src="/build.js"></script>
    <script>window.NAF || document.write('<script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js">\x3C/script>')</script>

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="/js/spawn-in-circle.component.js"></script>
    <!-- <script src='./js/baristaRequest.js'></script> -->
    <!-- script for movement -->
    <script src='./js/reposition.js'></script>
    <script src='./js/moveIntoCafe.js'></script>
    <!-- convo script -->
    <script src='./js/initateConvo.js' defer></script>
    <!-- add preset forest scene -->
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>

    <a-scene networked-scene="
        room: blocks;
        debug: true;
        adapter: easyrtc;
        audio: true;
      ">

        <a-assets>
            <a-asset-item id="raccoon-obj" src="./assets/Raccoon_Blocks/model.obj"></a-asset-item>
            <a-asset-item id="raccoon-mtl" src="./assets/Raccoon_Blocks/materials.mtl"></a-asset-item>
            <a-asset-item id="diner-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/cafe.obj"></a-asset-item>
            <a-asset-item id="diner-mtl" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/cafe.mtl"></a-asset-item>
            <!-- PEOPLE -->
            <a-asset-item id="jack-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/people/Jack/human_male.obj"></a-asset-item>
            <a-asset-item id="jack-mtl" src="http://s3.amazonaws.com/lingo-land/lingo-assets/people/Jack/human_male.mtl"></a-asset-item>
            <a-asset-item id="scott-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/people/Scott/model__0.obj"></a-asset-item>
            <a-asset-item id="scott-mtl" src="http://s3.amazonaws.com/lingo-land/lingo-assets/people/Scott/model__0.mtl"></a-asset-item>
            <a-asset-item id="lexi-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/woman/beautiful-woman-15.obj"></a-asset-item>
            <a-asset-item id="lexi-mtl" src="http://s3.amazonaws.com/lingo-land/lingo-assets/woman/beautiful-woman-15.mtl"></a-asset-item>
            <a-asset-item id="hair-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/woman/female-hair.obj"></a-asset-item>
            <a-asset-item id="hair-mtl" src="http://s3.amazonaws.com/lingo-land/lingo-assets/woman/female-hair.mtl"></a-asset-item>

            <a-asset-item id="facad-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/facad.obj"></a-asset-item>
            <a-asset-item id="walls-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/sidewalls.obj"></a-asset-item>
            <a-asset-item id="floor-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/floor.obj"></a-asset-item>
            <a-asset-item id="wooden-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/wooden.obj"></a-asset-item>
            <a-asset-item id="clock-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/clock.obj"></a-asset-item>
            <a-asset-item id="table-covers-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/table-covers.obj"></a-asset-item>
            <a-asset-item id="dirty-plate1-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/dirty-plate1.obj"></a-asset-item>
            <a-asset-item id="dirty-plate2-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/dirty-plate2.obj"></a-asset-item>
            <a-asset-item id="cake-plate-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/cake-plate.obj"></a-asset-item>



            <a-asset-item id="apricot-cake-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/apricot-cake.obj"></a-asset-item>
            <a-asset-item id="cherry-cake-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/cherry-cake.obj"></a-asset-item>
            <a-asset-item id="thankyou-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/thankyou.obj"></a-asset-item>
            <a-asset-item id="toilet-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/toilet.obj"></a-asset-item>
            <a-asset-item id="office-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/office.obj"></a-asset-item>
            <a-asset-item id="open-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/open.obj"></a-asset-item>
            <a-asset-item id="closed-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/closed.obj"></a-asset-item>
            <a-asset-item id="door-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/door.obj"></a-asset-item>
            <a-asset-item id="kitchen-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/kitchen.obj"></a-asset-item>
            <a-asset-item id="drinks-obj" src="http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/drinks.obj"></a-asset-item>



            <!-- Templates -->
            <!-- Avatar -->
            <template id="avatar-template">
                <a-entity obj-model="obj: #raccoon-obj; mtl: #raccoon-mtl" scale="5 5 5"></a-entity>
            </template>
            <!-- /Templates -->
        </a-assets>
        <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/ Assets end -->
        <a-entity environment="preset: forest" position='0 -0.2 0'></a-entity>
        <a-entity id="player" class="heads" networked="template:#avatar-template;attachTemplateToLocal:false;" camera="userHeight: 3" position='5 0 -1' rotation='0 -90 0' wasd-controls look-controls>
            <a-cursor></a-cursor>
        </a-entity>
        <!-- BUILDINGS -->
        <a-entity obj-model="obj: #diner-obj; mtl: #diner-mtl" position="16 0 0" rotation="0 90 0"></a-entity>
        <!--  OBJECT   -->
        <a-entity obj-model="obj: #deck-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/Menu.jpg; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #menu-frame-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/Frame1.jpg; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #facad-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/Brick-Wall_1.jpg; repeat: 8 8; side:double"></a-entity>

        <a-entity obj-model="obj: #walls-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/Brick-Wall_1.jpg; repeat: 8 8; side:double"></a-entity>
        <a-entity obj-model="obj: #floor-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/BWTiles.png; repeat: 3 3"></a-entity>

        <a-entity obj-model="obj: #wooden-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/woodgrainFineBlondColor.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #clock-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/clockNumbers.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #table-covers-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/placematte.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #dirty-plate1-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/dirtyPlate1.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #dirty-plate2-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/dirtyPlate.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #cake-plate-obj" position="16 0 0" rotation="0 90 0" ></a-entity>

        <a-entity obj-model="obj: #apricot-cake-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/applePie.png; repeat: 1 1"></a-entity>
       <a-entity obj-model="obj: #cherry-cake-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/cherryPie.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #thankyou-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/regiserKeyboard.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #toilet-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/sinage1.jpg; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #office-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/sinage.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #closed-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/sinage1.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #open-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/sinage1.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #door-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/woodgrainFine.png; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #kitchen-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/kitchen.jpg; repeat: 1 1"></a-entity>
        <a-entity obj-model="obj: #drinks-obj" position="16 0 0" rotation="0 90 0" material="src:"http://s3.amazonaws.com/lingo-land/lingo-assets/cafe/sinage2.jpg; repeat: 1 1"></a-entity>


        <!-- PEOPLE -->
        <a-entity obj-model="obj: #jack-obj; mtl: #jack-mtl" position="23.5 0 3" scale="0.0021 0.0021 0.0021" rotation="0 -90 0"></a-entity>
        <a-entity obj-model="obj: #scott-obj; mtl: #scott-mtl" position="23.3 0 0" scale="0.00205 0.00205 0.00205" rotation="-90 180 0"></a-entity>
        <a-entity obj-model="obj: #lexi-obj; mtl: #lexi-mtl" position="17.5 -0.3 -4.86" scale="2 2 2" rotation="0 30 0"></a-entity>
        <a-entity obj-model="obj: #hair-obj; mtl: #hair-mtl" position="17.65 1.709 -4.85" scale="0.00043 0.00043 0.00043" rotation="0 30 0"></a-entity>

        <a-entity id='barista' geometry='primitive: box; width: 0.2; height: 0.2; depth:0.6' rotation='0 0 45' position='22.5 2 0' material='color: yellow' opacity="0">
            <a-animation attribute="position" to="22.5 1.98 0" direction="alternate" dur="1000" repeat="indefinite"></a-animation>
            <a-text id='initiate-convo-text' value="ORDER" rotation='-90 -90 00' position="0 0.1 -0.28" scale=".7 .7 .7" visible='true' material='side:double' text='height:2'>
                <a-animation attribute="scale" direction='alternate' from='.7 .7 .7' to=".75 .75 .75" dur="1000" repeat="indefinite"></a-animation>
            </a-text>
        </a-entity>
        <a-entity id='stanger' geometry='primitive: box; width: 0.2; height: 0.2; depth:0.4' rotation='0 90 45' position='18.65 1.258 -4.5' material='color: yellow' opacity="0">
            <a-animation attribute="position" to="18.65 1.26 -4.5" direction="alternate" dur="1000" repeat="indefinite"></a-animation>
            <a-text id='initiate-convo-text' value="CHAT" rotation='-90 -90 0' position="0 0.1 -0.2" scale=".6 .6 .6" visible='true' material='side:double' text='height:1.5'>
                <a-animation attribute="scale" direction='alternate' from='.6 .6 .6' to=".65 .65 .65" dur="1000" repeat="indefinite"></a-animation>
            </a-text>
        </a-entity>
        <!-- Movement -->
        <!-- outside 1 -->
        <a-entity geometry="primitive: circle; radiusInner: 0.5; radiusOuter: 0.7" material="side: double; color: pink; opacity: 0.5" rotation="90 0 0" position="5 0.2 -1" reposition-on-click>
            <a-animation attribute="position" to="5 0.3 -1" direction="alternate" dur="1000" repeat="indefinite"></a-animation>
        </a-entity>
        <!-- outside 2 -->
        <a-entity geometry="primitive: circle; radiusInner: 0.5; radiusOuter: 0.7" material="side: double; color: pink; opacity: 0.5" rotation="90 0 0" position="10 0.2 -1" reposition-on-click>
            <a-animation attribute="position" to="10 0.3 -1" direction="alternate" dur="1000" repeat="indefinite"></a-animation>
        </a-entity>
        <!-- outside 3 -->
        <a-entity geometry="primitive: circle; radiusInner: 0.5; radiusOuter: 0.7" material="side: double; color: pink; opacity: 0.5" rotation="90 0 0" position="14 0.2 -1" move-on-click>
            <a-animation attribute="position" to="14 0.3 -1" direction="alternate" dur="1000" repeat="indefinite"></a-animation>
        </a-entity>
        <!-- inside cafe-->
        <a-entity geometry="primitive: circle; radius: 0.7" material="side: double; color: pink; opacity: 0.5" rotation="90 0 0" position="20 0.3 -4" move-to-stranger>
            <a-animation attribute="position" to="20 0.4 -4" direction="alternate" dur="1000" repeat="indefinite"></a-animation>
        </a-entity>
    </a-scene>
      <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/ Scene end -->

    <!-- GitHub Corner. -->
    <a href="https://github.com/JAAMies" class="github-corner">
      <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#222; color:#fff; position: absolute; top: 0; border: 0; right: 0;">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}
    </style>

    <script>
      // Define custom schema for syncing avatar
      NAF.schemas.add({
        template: '#avatar-template',
        components: [
          'position',
          'rotation'
        ]
      });
    </script>
  </body>
</html>
